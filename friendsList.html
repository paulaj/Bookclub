<!DOCTYPE html>
<html>
	<head>
	<script type="text/javascript" src="external_js/jquery-1.9.0.min.js"></script>
	<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
	<script type="text/javascript" src="http://static.titovanton.com/static/titovanton/libs/flexible-stars/jquery.flexible.stars.js"></script>
	<link rel="stylesheet" type="text/css" href="mystyle.css">
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" /> 	
	<script type="text/javascript">
	var friends = ['Usman Masood', 'Luly Alcaraz', 'Mari Kobiashvili'];
    var users = ['Usman Masood', 'Luly Alcaraz', 'Mari Kobiashvili', 'Paula Jacobs'];
	$(document).ready(function() {
		displayFriends();
	});

	function displayFriends(){
		$("#displayFriendsTable").empty();
		var row1;
		var row2;
		var tableContent="";
		for(var i = 0; i < friends.length; i++){
			row1 = "<tr><td><img src= 'sprite-gold-star'/>" +"</td><td><a href='" + friends[i]+"profile.html'/><img src='"+friends[i]+".png' alt='"+friends[i]+"'/></a></td><td></td><td nowrap class='friend_name'><h2><a href='" + friends[i]+"profile.html'/>" + friends[i] + "</a></h2></td></tr>";
			row2 = "<tr class='arbuttons'><td></td><td class='rem'><center><button id='"+friends[i]+"'onClick='removeFriend(this.id)'>Remove</button></center></td></tr>";
			tableContent+=row1+row2;
		}
		document.getElementById('displayFriendsTable').innerHTML = tableContent;
	}

	function removeFriend(delete_person){
		//console.log(delete_person);
		//console.log(friends);
		if(friends.indexOf(delete_person) > -1){
			friends.splice(friends.indexOf(delete_person), 1);
		}
		displayFriends();
	}
    
function addFriend(lost_friend){
var new_buddy = lost_friend.replace('_add', '');
if(users.indexOf(new_buddy) > -1){
friends.push(new_buddy);
}
displayFriends();
}

$(function() {
    var availableTags = users;
    $("#friendSearchBox").autocomplete({source: availableTags});
    
});

function searchFriends(lost_friend){
$("#displayFriendsTable").empty();
var row1;
var row2;
var tableContent="";
var url = lost_friend.replace(' ', '');
url = url + 'Profile.html'
if(friends.indexOf(lost_friend) > -1){
displayFriends();
}
else if(users.indexOf(lost_friend) > -1){
row1 = "<tr><td>" +"</td><td><img src='"+lost_friend+".png'/></td><td class='friend_name'><a href='"+url+"'>" + lost_friend + "</a></td></tr>";
row2 = "<tr class='arbuttons'><td></td><td></td><td></td><td align='right'><button id='"+lost_friend+"_add' onClick='addFriend(this.id)' align='right'>Add</button></td></tr>";
tableContent+=row1+row2;
}
else{
tableContent = "<tr><td></td><td colspan='5'>No user matching that name exists.</td></tr>";
}
document.getElementById('displayFriendsTable').innerHTML = tableContent;
}

    
	</script>	
	</head>
    <body>
	
	<!-- toolbar -->
	<ul>

	<li><a href="friendsList.html" class="navBar">Friends</a></li>
	<li><a href="booklist.html" class="navBar">My Reading List</a></li>
	<li><a href="booksearch.html" class="navBar">Books</a></li>
	<li><a href="home.html" class="navBar">Logout</a></li>
	
	</ul>
	<div class="border"></div>
	<div class="content">
	<table id="searchTable">
		<tr class="friend_search">
			<td>
			</td>
			<td><input type="text" id="friendSearchBox" align="center" size="75" autofocus></td>
			<td><button id="frndSrchBtn" onclick="searchFriends()"><span class="ui-icon ui-icon-search"></span></button></td>
		</tr>
	</table>
	<table id="displayFriendsTable">
	</table>
	</div>
	</body>
</html>


